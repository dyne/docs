
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://dyne.org/docs/cjit/graphics/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../builtins/">
      
      
      <link rel="icon" href="../images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.47">
    
    
      
        <title>Graphics - CJIT Manual</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cjit-for-graphical-applications" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="CJIT Manual" class="md-header__button md-logo" aria-label="CJIT Manual" data-md-component="logo">
      
  <img src="../images/dyneorg.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CJIT Manual
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Graphics
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="CJIT Manual" class="md-nav__button md-logo" aria-label="CJIT Manual" data-md-component="logo">
      
  <img src="../images/dyneorg.svg" alt="logo">

    </a>
    CJIT Manual
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Graphics
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Graphics
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-beauty-of-random" class="md-nav__link">
    <span class="md-ellipsis">
      The Beauty of Random
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Beauty of Random">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-hashbang" class="md-nav__link">
    <span class="md-ellipsis">
      The "hashbang"
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-pragma-lib" class="md-nav__link">
    <span class="md-ellipsis">
      The pragma lib
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-sdl2-fix" class="md-nav__link">
    <span class="md-ellipsis">
      The SDL2 fix
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#three-dimensions" class="md-nav__link">
    <span class="md-ellipsis">
      Three Dimensions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nuklear-widgets" class="md-nav__link">
    <span class="md-ellipsis">
      Nuklear widgets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#thats-all-for-now" class="md-nav__link">
    <span class="md-ellipsis">
      That's all for now!
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../builtins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Builtins
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-beauty-of-random" class="md-nav__link">
    <span class="md-ellipsis">
      The Beauty of Random
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Beauty of Random">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-hashbang" class="md-nav__link">
    <span class="md-ellipsis">
      The "hashbang"
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-pragma-lib" class="md-nav__link">
    <span class="md-ellipsis">
      The pragma lib
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-sdl2-fix" class="md-nav__link">
    <span class="md-ellipsis">
      The SDL2 fix
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#three-dimensions" class="md-nav__link">
    <span class="md-ellipsis">
      Three Dimensions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nuklear-widgets" class="md-nav__link">
    <span class="md-ellipsis">
      Nuklear widgets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#thats-all-for-now" class="md-nav__link">
    <span class="md-ellipsis">
      That's all for now!
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="cjit-for-graphical-applications">CJIT for graphical applications</h1>
<p>Be welcome to the exciting world of graphical C applications using SDL
(<a href="https://sdl.org">Simple DirectMedia Layer</a>). SDL, originally
developed by Sam Lantinga in 1998, is a powerful, cross-platform
library designed to provide low-level access to audio, keyboard,
mouse, and graphics hardware via OpenGL and Direct3D. It is an ideal
choice of free and open source library to create graphical
applications that run seamlessly across different operating systems.</p>
<p>Whether you're developing games, simulations, or interactive tools,
the combination of CJIT's simplicity in C code execution and <a href="https://wiki.libsdl.org/SDL2/Installation">SDL's
cross-platform
capabilities</a> offers a
solution for your graphical application needs.</p>
<p>As in the previous chapter, the following sections will guide you
through practical usage examples, demonstrating how to create
graphical applications. 🌟📚</p>
<h2 id="the-beauty-of-random">The Beauty of Random</h2>
<p>First download SDL for your platform. In Windows we download and extract a zip archive, on other system we install the latest SDL from package managers.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="mswindows" name="__tabbed_1" type="radio" /><input id="appleosx" name="__tabbed_1" type="radio" /><input id="gnulinux" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="mswindows">MS/Windows</label><label for="appleosx">Apple/OSX</label><label for="gnulinux">GNU/Linux</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>Invoke-WebRequest -Outfile SDL2-devel.zip -Uri https://github.com/libsdl-org/SDL/releases/download/release-2.30.9/SDL2-devel-2.30.9-mingw.zip
unzip SDL2-devel.zip
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>brew install sdl2
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>sudo apt-get install libsdl2-dev
</code></pre></div>
</div>
</div>
</div>
<p>Then download the <a href="https://github.com/dyne/cjit/blob/main/examples/sdl2_noise.c">sdl2_noise.c</a> example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="mswindows_1" name="__tabbed_2" type="radio" /><input id="appleosx_1" name="__tabbed_2" type="radio" /><input id="gnulinux_1" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="mswindows_1">MS/Windows</label><label for="appleosx_1">Apple/OSX</label><label for="gnulinux_1">GNU/Linux</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>Invoke-WebRequest -OutFile &quot;sdl2_noise.c&quot; -Uri &quot;https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/sdl2_noise.c&quot; -Encoding ASCII
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>curl -sLo sdl2_noise.c https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/sdl2_noise.c
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>curl -sLo sdl2_noise.c https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/sdl2_noise.c
</code></pre></div>
</div>
</div>
</div>
<p>Then as usual execute it passing the source file as argument to CJIT. Since we are calling functions shared by a library, we'll add some extra parameters:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="mswindows_2" name="__tabbed_3" type="radio" /><input id="appleosx_2" name="__tabbed_3" type="radio" /><input id="gnulinux_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="mswindows_2">MS/Windows</label><label for="appleosx_2">Apple/OSX</label><label for="gnulinux_2">GNU/Linux</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>.\cjit.exe .\sdl2_noise.c -I.\SDL2-2.30.9\x86_64-w64-mingw32\include\ -L.\SDL2-2.30.9\x86_64-w64-mingw32\bin\
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>./cjit ./sdl2_noise.c -lSDL2
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>./cjit ./sdl2_noise.c -lSDL2
</code></pre></div>
</div>
</div>
</div>
<p><img alt="A lousy rendering quality of random pixels" src="../images/cjit_sdl2_noise.gif" /></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This preview looks blurred because video compression cannot deal well with randomness.</p>
</div>
<p>Have a look inside <a href="https://github.com/dyne/cjit/blob/main/examples/sdl2_noise.c">sdl2_noise.c</a>, and at the beginning of the file you'll see some particular lines of code worth explaining:</p>
<h3 id="the-hashbang">The "hashbang"</h3>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/env cjit</span>
</code></pre></div>
<p>This line indicates that the source file is a script that can be executed using the <code>cjit</code> interpreter when the executable bit is enabled and if the CJIT interpreter is found in PATH.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The hashbang works only on Apple/OSX and GNU/Linux, where any file can be made executable with <code>chmod +x</code></p>
</div>
<h3 id="the-pragma-lib">The pragma lib</h3>
<div class="highlight"><pre><span></span><code><span class="cp">#pragma comment(lib, &quot;SDL2&quot;)</span>
</code></pre></div>
<p>This line tells CJIT to link the <code>SDL2</code> shared library (the one installed on the system or found inside an <code>-L</code> path) and allows the source code to call functions provided by it. It is the equivaled of <code>-lSDL2</code> on the commandline, with the only difference that it can be specified inside the source code.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>For Windows this means to look for <code>SDL2.dll</code> in a path indicated by <code>-L</code>. Another way to link libraries in Windows is to copy the <code>dll</code> files inside the same folder of the source code and add their filename to the list of arguments.</p>
</div>
<h3 id="the-sdl2-fix">The SDL2 fix</h3>
<div class="highlight"><pre><span></span><code><span class="cp">#define SDL_DISABLE_IMMINTRIN_H 1</span>
<span class="cp">#define SDL_MAIN_HANDLED 1</span>
</code></pre></div>
<p>These lines tell SDL to disable some functionalities that break CJIT's execution. Without them defined before the <code>#include &lt;SDL2/SDL.h&gt;</code> line Windows applications will crash.</p>
<h2 id="three-dimensions">Three Dimensions</h2>
<p>To draw accelerated graphics and 3D objects we'll use OpenGL, short for Open Graphics Library: this is a cross-language, cross-platform API for rendering 2D and 3D vector graphics. Originally developed by Silicon Graphics Inc. (SGI) in 1992, OpenGL has become a widely adopted standard in the graphics industry.</p>
<p>Combining OpenGL with CJIT enables you to take full advantage of GPU accelerated graphics rendering while leveraging the dynamic capabilities of in-memory C code compilation, to swiftly prototype and test graphics-intensive applications.</p>
<p>Here is how to do it. First make sure you have OpenGL on your system: Windows users don't need to worry, it is there already.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:3"><input checked="checked" id="mswindows_3" name="__tabbed_4" type="radio" /><input id="appleosx_3" name="__tabbed_4" type="radio" /><input id="gnulinux_3" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="mswindows_3">MS/Windows</label><label for="appleosx_3">Apple/OSX</label><label for="gnulinux_3">GNU/Linux</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Nothing to do.</p>
</div>
<div class="tabbed-block">
<p>Not sure (help testing this please!)</p>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>sudo apt-get install libopengl-dev
</code></pre></div>
</div>
</div>
</div>
<p>Then download the <a href="https://github.com/dyne/cjit/blob/main/examples/opengl.c">opengl.c</a> example we ship in CJIT, adapted from this awesome <a href="https://shallowbrooksoftware.com/posts/a-multi-platform-modern-opengl-demo-with-sdl2/">opengl+SDL2 tutorial by Andrew Dailey</a>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:3"><input checked="checked" id="mswindows_4" name="__tabbed_5" type="radio" /><input id="appleosx_4" name="__tabbed_5" type="radio" /><input id="gnulinux_4" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="mswindows_4">MS/Windows</label><label for="appleosx_4">Apple/OSX</label><label for="gnulinux_4">GNU/Linux</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>Invoke-WebRequest -OutFile &quot;opengl.c&quot; -Uri &quot;https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/opengl.c&quot; -Encoding ASCII
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>curl -sLo opengl.c https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/opengl.c
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>curl -sLo opengl.c https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/opengl.c
</code></pre></div>
</div>
</div>
</div>
<p>And execute it as usual, giving the <code>opengl.c</code> file name as argument to CJIT. In case of windows you'll have to include also the path to the SDL2 library which was used in the previous example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:3"><input checked="checked" id="mswindows_5" name="__tabbed_6" type="radio" /><input id="appleosx_5" name="__tabbed_6" type="radio" /><input id="gnulinux_5" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="mswindows_5">MS/Windows</label><label for="appleosx_5">Apple/OSX</label><label for="gnulinux_5">GNU/Linux</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>.\cjit.exe ./opengl.c -DWINDOWS -I .\SDL2-2.30.9\x86_64-w64-mingw32\include\ -L.\SDL2-2.30.9\x86_64-w64-mingw32\bin
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>./cjit ./opengl.c
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>./cjit ./opengl.c
</code></pre></div>
</div>
</div>
</div>
<p><img alt="Smoothly rotating red square" src="../images/cjit_opengl.gif" /></p>
<p>Let's have a quick look at what is happening here: please note the <code>-DWINDOWS</code> execution flag we use for Windows. Then look at the <code>opengl.c</code> code:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Taken from https://github.com/theandrew168/sdl2-opengl-demo</span>
<span class="c1">//</span>
<span class="c1">// Copyright (c) 2020 Andrew Dailey</span>
<span class="c1">//</span>
<span class="c1">// Slightly modified to be one-file and work in CJIT by Jaromil</span>
<span class="c1">//</span>
<span class="c1">// MIT License</span>
<span class="c1">//</span>
<span class="c1">// Tutorial explanation:</span>
<span class="c1">// https://shallowbrooksoftware.com/posts/a-multi-platform-modern-opengl-demo-with-sdl2/</span>

<span class="cp">#pragma comment(lib, &quot;SDL2&quot;)</span>

<span class="cp">#ifdef WINDOWS</span>
<span class="cp">#pragma comment(lib, &quot;opengl32&quot;)</span>
<span class="cp">#elif LINUX</span>
<span class="cp">#pragma comment(lib, &quot;OpenGL&quot;)</span>
<span class="cp">#else</span>
<span class="cp">#pragma comment(lib, &quot;OpenGL&quot;)</span>
<span class="cp">#endif</span>
</code></pre></div>
<p>Below the well deserved credits for this example there are different ways to link the OpenGL library, because the library file is named differently on different platforms. We solve the problem by using a <code>#define</code> macro with symbol <code>WINDOWS</code> to branch over a different <code>#pragma</code> directive chosing the case-sensitive name of the library.</p>
<p>To understand the rest of the code make sure to read the <a href="https://shallowbrooksoftware.com/posts/a-multi-platform-modern-opengl-demo-with-sdl2/">multi-platform-modern-opengl-demo-with-sdl2 tutorial</a>.</p>
<h2 id="nuklear-widgets">Nuklear widgets</h2>
<p>Nuklear is a minimal, immediate-mode graphical user interface toolkit
written in ANSI C and licensed under public domain. It is designed to
be lightweight and highly customizable, making it an ideal choice for
developing user interfaces across different platforms.</p>
<p>With Nuklear, you can easily create a comprehensive set of widgets to
enhance user experience (UX) in your applications. The library
provides a wide range of components, including buttons, sliders, text
input fields, and more, all of which can be integrated seamlessly with
CJIT. This combination allows for rapid prototyping and real-time
adjustments, fostering a dynamic development process.</p>
<p>Nuklear's simplicity and flexibility make it the perfect companion for
CJIT, enabling you to design and implement intuitive and visually
appealing interfaces that run consistently on GNU/Linux, MS/Windows,
and Apple/OSX.</p>
<p>Let's dive in and discover how to create powerful and responsive
interfaces with ease! 🎨🛠️</p>
<p>The
<a href="https://raw.githubusercontent.com/Immediate-Mode-UI/Nuklear/refs/heads/master/nuklear.h">nuklear.h</a>
header is all what you need, download it together with CJIT's example
source code.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:3"><input checked="checked" id="mswindows_6" name="__tabbed_7" type="radio" /><input id="appleosx_6" name="__tabbed_7" type="radio" /><input id="gnulinux_6" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="mswindows_6">MS/Windows</label><label for="appleosx_6">Apple/OSX</label><label for="gnulinux_6">GNU/Linux</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>Invoke-WebRequest -OutFile &quot;nuklear.h&quot; -Uri &quot;https://raw.githubusercontent.com/Immediate-Mode-UI/Nuklear/refs/heads/master/nuklear.h&quot; -Encoding ASCII
Invoke-WebRequest -OutFile &quot;nuklear.c&quot; -Uri &quot;https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear.c&quot; -Encoding ASCII
mkdir nuklear
Invoke-WebRequest -OutFile &quot;nuklear/calculator.c&quot; -Uri &quot;https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear/calculator.c&quot; -Encoding ASCII
Invoke-WebRequest -OutFile &quot;nuklear/canvas.c&quot; -Uri &quot;https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear/canvas.c&quot; -Encoding ASCII
Invoke-WebRequest -OutFile &quot;nuklear/node_editor.c&quot; -Uri &quot;https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear/node_editor.c&quot; -Encoding ASCII
Invoke-WebRequest -OutFile &quot;nuklear/overview.c&quot; -Uri &quot;https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear/overview.c&quot; -Encoding ASCII
Invoke-WebRequest -OutFile &quot;nuklear/style.c&quot; -Uri &quot;https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear/style.c&quot; -Encoding ASCII
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>curl -sLo nuklear.h https://raw.githubusercontent.com/Immediate-Mode-UI/Nuklear/refs/heads/master/nuklear.h
curl -sLo nuklear.c https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear.c
mkdir -p nuklear
curl -sLo nuklear/calculator.c https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear/calculator.c
curl -sLo nuklear/canvas.c https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear/canvas.c
curl -sLo nuklear/node_editor.c https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear/node_editor.c
curl -sLo nuklear/overview.c https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear/overview.c
curl -sLo nuklear/style.c https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear/style.c
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>curl -sLo nuklear.h https://raw.githubusercontent.com/Immediate-Mode-UI/Nuklear/refs/heads/master/nuklear.h
curl -sLo nuklear.c https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear.c
mkdir -p nuklear
curl -sLo nuklear/calculator.c https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear/calculator.c
curl -sLo nuklear/canvas.c https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear/canvas.c
curl -sLo nuklear/node_editor.c https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear/node_editor.c
curl -sLo nuklear/overview.c https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear/overview.c
curl -sLo nuklear/style.c https://raw.githubusercontent.com/dyne/cjit/refs/heads/main/examples/nuklear/style.c
</code></pre></div>
</div>
</div>
</div>
<p>This will create a small directory structure with all the source code files needed for our example:
<div class="highlight"><pre><span></span><code>.
├── nuklear
│   ├── calculator.c
│   ├── canvas.c
│   ├── node_editor.c
│   ├── overview.c
│   └── style.c
├── nuklear.c
└── nuklear.h
</code></pre></div></p>
<p>In this multiple file setup we have the main code of our example which
is
<a href="https://github.com/dyne/cjit/blob/main/examples/nuklear.c">nuklear.c</a>
 call one or more example modules according to define flags. By default it will just start all modules, see around line 390:
<div class="highlight"><pre><span></span><code><span class="cm">/* ===============================================================</span>
<span class="cm"> *</span>
<span class="cm"> *                          EXAMPLE</span>
<span class="cm"> *</span>
<span class="cm"> * ===============================================================*/</span>
<span class="cm">/* This are some code examples to provide a small overview of what can be</span>
<span class="cm"> * done with this library. To try out an example uncomment the defines */</span>
<span class="cp">#define INCLUDE_ALL</span>
<span class="cm">/*#define INCLUDE_STYLE */</span>
<span class="cm">/*#define INCLUDE_CALCULATOR */</span>
<span class="cm">/*#define INCLUDE_CANVAS */</span>
<span class="cp">#define INCLUDE_OVERVIEW</span>
<span class="cm">/*#define INCLUDE_NODE_EDITOR */</span>

<span class="cp">#ifdef INCLUDE_ALL</span>
<span class="w">  </span><span class="cp">#define INCLUDE_STYLE</span>
<span class="w">  </span><span class="cp">#define INCLUDE_CALCULATOR</span>
<span class="w">  </span><span class="cp">#define INCLUDE_CANVAS</span>
<span class="w">  </span><span class="cp">#define INCLUDE_OVERVIEW</span>
<span class="w">  </span><span class="cp">#define INCLUDE_NODE_EDITOR</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef INCLUDE_STYLE</span>
<span class="w">  </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;nuklear/style.c&quot;</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef INCLUDE_CALCULATOR</span>
<span class="w">  </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;nuklear/calculator.c&quot;</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef INCLUDE_CANVAS</span>
<span class="w">  </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;nuklear/canvas.c&quot;</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef INCLUDE_OVERVIEW</span>
<span class="w">  </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;nuklear/overview.c&quot;</span>
<span class="cp">#endif</span>
<span class="cp">#ifdef INCLUDE_NODE_EDITOR</span>
<span class="w">  </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;nuklear/node_editor.c&quot;</span>
<span class="cp">#endif</span>
</code></pre></div></p>
<p>Starting it up is simple as usual, this time we just need to add <code>-I.</code> to tell CJIT it can look for headers in the current directory, so it will find <code>nuklear.h</code></p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:3"><input checked="checked" id="mswindows_7" name="__tabbed_8" type="radio" /><input id="appleosx_7" name="__tabbed_8" type="radio" /><input id="gnulinux_7" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="mswindows_7">MS/Windows</label><label for="appleosx_7">Apple/OSX</label><label for="gnulinux_7">GNU/Linux</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>.\cjit.exe ./nuklear.c -I. -I.\SDL2-2.30.9\x86_64-w64-mingw32\include\ -L.\SDL2-2.30.9\x86_64-w64-mingw32\bin
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>./cjit ./nuklear.c -I.
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>./cjit ./nuklear.c -I.
</code></pre></div>
</div>
</div>
</div>
<p>And 💥Boom! enjoy Nuklear!</p>
<p><img alt="Pretty advanced GUI widgets shown" src="../images/cjit_nuklear.gif" /></p>
<h2 id="thats-all-for-now">That's all for now!</h2>
<p>If you like this manual, <a href="https://github.com/dyne/cjit">give CJIt a star</a>, <a href="https://dyne.org/contact">let us know</a> what you'd like to see next and consider making a <a href="https://dyne.org/donate">donation to Dyne.org</a>. Thanks!</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      CJIT Manual written by <a href="https://jaromil.dyne.org">Jaromil</a>, Copyright &copy; 2024 Dyne.org Foundation
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/dyne/cjit" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/dyne-org/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.tabs.link"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>